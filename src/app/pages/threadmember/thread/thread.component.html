<div class="p-8">
    <p-tabView>
        <p-tabPanel header="Thread" leftIcon="pi pi-book" >
            <div class="glasses p-3 border-round mb-8 cursor-pointer" *ngFor="let thread of threadHeader.data; let i = index">
                <div class="flex">
                    <div>
                        <p-avatar *ngIf="thread.userPhoto === null" icon="pi pi-user" styleClass="mr-2" size="large" [style]="{'background-color':'#2196F3', 'color': '#ffffff'}" shape="circle"></p-avatar>
                        <p-avatar *ngIf="thread.userPhoto !== null" image="http://localhost:1234/files/{{thread.userPhoto}}" styleClass="mr-2" size="large" [style]="{'background-color':'#2196F3', 'color': '#ffffff'}" shape="circle"></p-avatar>
                    </div>
                    <div>
                        <h4>{{thread.fullName}}</h4>
                        <p>{{thread.createdAt | timeAgo}}</p>
                    </div>
                </div>
                <div class="mt-3">
                    <p class="font-bold">
                       {{thread.title}}
                    </p>
                    <p>
                       {{thread.contentThread | slice:sliceOptions.start:sliceOptions.end}} ... <a *ngIf="thread.threadType === 'Regular'" (click)="onExpandText($event, thread.id)">See More </a> <a *ngIf="thread.threadType === 'Premium'" (click)="onExpandTextPremium($event)">See More <i class="pi pi-fw pi-lock text-red-500"></i> </a>
                    </p>
                </div>
                <div *ngIf="thread.fileId != null"> 
                    <img src="http://localhost:1234/files/{{thread.fileId}}" alt="" width="400px" height="200px">
                </div>
                <div>
                    <div>
                        <div class="flex justify-content-between mt-8 align-items-center">
                            <div class="flex w-1 justify-content-around">
                                <div class="flex">
                                    <i class="pi pi-heart-fill"></i>
                                    <p>{{thread.countLike}}</p>
                                </div>
                                <div class="flex">
                                    <i class="pi pi-comment"></i>
                                    <p>{{thread.countComment}}</p>
                                </div>
                            </div>
                            <div>
                                <i class="pi pi-bookmark-fill"></i>
                            </div>
                          
                        </div>
                        <div>

                        </div>
                    </div>
                </div>
               
            </div>
            <div class="glasses p-3 border-round mb-8 cursor-pointer" routerLink="/threads-main/detail">
                <div class="flex">
                    <div>
                        <p-avatar icon="pi pi-user" styleClass="mr-2" size="large" [style]="{'background-color':'#2196F3', 'color': '#ffffff'}" shape="circle"></p-avatar>
                    </div>
                    <div>
                        <h4>Salman Faris Siddiq</h4>
                        <p>Upload 1 hour ago</p>
                    </div>
                </div>
                <div class="mt-3 mb-3">
                    <p class="font-bold">
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Cupiditate rerum nihil, non eveniet facere aliquid obcaecati.
                    </p>
                    <p>
                        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Corporis nulla laboriosam libero voluptatum quo consequuntur facere perspiciatis ipsum sit pariatur minus perferendis quaerat impedit officiis distinctio error explicabo cupiditate possimus, saepe sint recusandae itaque delectus. Sint aliquid magnam id error voluptatem? Veritatis, deleniti recusandae voluptatum laboriosam eveniet ex asperiores inventore!
                    </p>
                </div>
                <div class="border-1 border-solid p-3 border-round">
                    <p class="font-bold">
                        Lorem ipsum, dolor sit amet consectetur adipisicing elit. In recusandae repellat modi cum rerum quos consequuntur culpa dolorum inventore eligendi repellendus sunt necessitatibus vitae fugiat, tempore, rem quo voluptates ducimus?
                    </p> 
                    <div class="h-12rem flex flex-column justify-content-between mt-5">
                        <div>
                            <button pButton label="Salman" class="w-full"></button>
                        </div>
                       <div>
                        <button pButton label="Faris" class="w-full"></button>
                       </div>
                      <div>
                        <button pButton label="Siddiq" class="w-full"></button>
                      </div>
                     
                    </div>
                   
                </div>
                <div>
                    <div>
                        <div class="flex justify-content-between mt-8 align-items-center">
                            <div class="flex w-1 justify-content-around">
                                <div class="flex">
                                    <i class="pi pi-heart-fill"></i>
                                    <p>5</p>
                                </div>
                                <div class="flex">
                                    <i class="pi pi-comment"></i>
                                    <p>2</p>
                                </div>
                            </div>
                            <div>
                                <i class="pi pi-bookmark-fill"></i>
                            </div>
                          
                        </div>
                        <div>

                        </div>
                    </div>
                </div>
            </div>
            <div class="glasses p-3 mt-3 border-round cursor-pointer" routerLink="/threads-main/detail">
                <div class="flex">
                    <div>
                        <p-avatar icon="pi pi-user" styleClass="mr-2" size="large" [style]="{'background-color':'#2196F3', 'color': '#ffffff'}" shape="circle"></p-avatar>
                    </div>
                    <div>
                        <h4>Salman Faris Siddiq</h4>
                        <p>Upload 1 hour ago</p>
                    </div>
                </div>
                <div class="mt-3 mb-3">
                    <p-blockUI [target]="pnl">
                        <div class="flex">
                            <button pButton label="Premium Only" icon="pi pi-lock"></button>
                        </div>
                    
                    </p-blockUI>
                    <p class="font-bold">
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Cupiditate rerum nihil, non eveniet facere aliquid obcaecati.
                    </p>
                    <p #pnl>
                        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Corporis nulla laboriosam libero voluptatum quo consequuntur facere perspiciatis ipsum sit pariatur minus perferendis quaerat impedit officiis distinctio error explicabo cupiditate possimus, saepe sint recusandae itaque delectus. Sint aliquid magnam id error voluptatem? Veritatis, deleniti recusandae voluptatum laboriosam eveniet ex asperiores inventore!
                    </p>
                </div>
                <div>
                    <div>
                        <div>
                         
                        </div>
                        <div class="flex justify-content-between mt-8 align-items-center">
                            <div class="flex w-1 justify-content-around">
                                <div class="flex">
                                    <i class="pi pi-heart-fill"></i>
                                    <p>5</p>
                                </div>
                                <div class="flex">
                                    <i class="pi pi-comment"></i>
                                    <p>2</p>
                                </div>
                            </div>
                            <div>
                                <i class="pi pi-bookmark-fill"></i>
                            </div>
                          
                        </div>
                      
                    </div>
                </div>
            </div>
        </p-tabPanel>
        <p-tabPanel header="Like" leftIcon="pi pi-heart-fill">
            <p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi
                architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione
                voluptatem sequi nesciunt. Consectetur, adipisci velit, sed quia non numquam eius modi.</p>
        </p-tabPanel>
        <p-tabPanel header="Bookmark" leftIcon="pi pi-bookmark-fill">
            <p>At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati
                cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga. Et harum quidem rerum facilis est et expedita distinctio.
                Nam libero tempore, cum soluta nobis est eligendi optio cumque nihil impedit quo minus.</p>
        </p-tabPanel>
        <p-tabPanel header="Create Thread" leftIcon="pi pi-file">
            <form (ngSubmit)="onsubmit()">
                <div>
                    <h3>Title</h3>
                    <div class="w-full">
                        <textarea pInputTextarea rows="5" cols="10" class="w-full" name="title" [(ngModel)]="data.title"></textarea>
                    </div>
                   </div>
                   <div>
                    <h3>Description</h3>
                    <div class="w-full">
                        <textarea pInputTextarea rows="10" cols="10" class="w-full" name="contentHeader" [(ngModel)]="data.contentThread"></textarea>
                    </div>
                   </div>
                   <div *ngIf="threadTypeShow && showType === true">
                    <p-dropdown [options]="threadType.data!" [(ngModel)]="data.threadTypeId" class="w-30rem" [style]="{'width':'100vh'}" placeholder="threadType" optionLabel="threadType" optionValue="id"  name="threadTypeId" [showClear]="true">
                        <ng-template pTemplate="item" let-threadType>
                          <div>
                            {{threadType.threadType}}
                          </div>
                        </ng-template>
                    </p-dropdown>
                   </div>
                   <div *ngIf="polling" class="glasses border-round mb-3 flex flex-column justify-content-center">
                    <div class="w-full flex justify-content-end">
                        <button icon="pi pi-times" class="p-button-rounded p-button-danger p-button-outlined" pButton (click)="exitPolling()"></button>
                    </div>
                    <!-- <div class="w-full flex  justify-content-center">
                        <input type="text" pInputText class="inputstyle" placeholder="your question">
                    </div> -->
                    <div *ngFor="let polling of pollingArray.controls; last as isLast; index as idx;let i = index " class="flex justify-content-center">
                    
                        <div class="w-30rem p-3 flex flex-column">
                            <div>
                                <label>Input {{i+1}}</label>
                            </div>
                          <div class="flex gap-2">
                            <input type="text" [(ngModel)]="insertPolling.threadDtlPolling" pInputText [formControl]="polling" class="inputstyle" >
                            <button pButton pRipple type="button" icon="pi pi-times" class="p-button-rounded p-button-danger" (click)="removeInputControl(idx)" *ngIf="pollingArray.length > 1"></button>
                            <button pButton pRipple type="button" icon="pi pi-plus" class="p-button-rounded" *ngIf="isLast && pollingArray.length < 4" (click)="addInputControl()"></button>
                          </div>
                         
                        </div>
                   </div>
                   <div class="field col-12 md:col-4 flex flex-column align-items-center  w-full">
                    <label for="icon">Input Poll Length</label>
                    <p-calendar [showIcon]="true" inputId="icon"></p-calendar>
                </div>
                   </div>
                
                   <div class="flex justify-content-between">
                    <div class="flex gap-2">
                        <p-fileUpload mode="basic" chooseIcon="pi pi-image" name="file" [customUpload]="true" id="file" (uploadHandler)="onInsertFile($event)" [auto]="true"></p-fileUpload>
                        <button pButton pRipple type="button" icon="pi pi-chart-bar" class="p-button-rounded bg-red-500" (click)="clickPolling()"></button>
                    </div>
                    <button pButton label="create thread" icon="pi pi-book" class="bg-red-500"></button>
                   </div>
            </form>
          
        </p-tabPanel>
    </p-tabView>
</div>
